extends layout
block content
  // slick-slider
  - var today = new Date();
  - var month = today.getMonth() + 1;
  .full-cover-pzfutball
  .container-fluid.bg-light
    .container
      .main-slider
        .d-flex.justify-content-center
          .d-none.d-sm-block
            .title-wrap.left
              h3 General Game
              h1 일반매치
              a(href='#')
                img.mx-auto(src='/images/lets_go.png')
            img(src='/images/pz_main_slide_01.png', alt='pc')
          .mobile_slide.w-100.d-block.d-sm-none(style='background:url(/images/main_slide_1_m.png)')
          
          //- img.w-100.d-block.d-sm-none(src='/images/main_slide_1_m.png', alt='m')
          //- .d-flex.justify-content-center
          //-   .d-none.d-sm-block
          //-     .title-wrap.right
          //-       h3 League Game
          //-       h1 리그 매치
          //-       a(href='#')
          //-         img.mx-auto(src='/images/lets_go.png')
          //-     img(src='/images/pz_main_slide_02.png', alt='pc')
          //-   .mobile_slide.w-100.d-block.d-sm-none(style='background:url(/images/main_slide_2_m.png)')
        .d-flex.justify-content-center
          .d-none.d-sm-block
            .title-wrap.rank-title.center
              h4 #{today.getFullYear()}.#{month < 10 ? '0' + month:month}
              h2 순위표 바로가기
              .text-light /
              h5 Go to then Rank
              a(href='#')
                img.mx-auto.mt-3(src='/images/lets_go.png')
            img(src='/images/pz_main_slide_03.png', alt='pc')
          .mobile_slide.w-100.d-block.d-sm-none(style='background:url(/images/main_slide_3_m.png)')
  //  날짜 선택 slick-slider
  - var size = 28;
  - var day = ['일', '월', '화', '수', '목', '금', '토'];
  .navigation
    nav.d-flex.justify-content-center.w-100(style='z-index:5')
      .container-fluid.py-1.bg-white
        .mx-auto.d-flex.justify-content-between.mobile-menu-wrap
          //- .game-icons-wrap.mx-auto(style='width:230px;')
          //-   button.btn.btn-link.p-0.mr-3(type='button', data-game='2')
          //-     img(src='/images/game_2match.png', alt='2파전')
          //-   button.btn.btn-link.p-0.mr-3(type='button', data-game='3', style='top:-16px; position:relative;')
          //-     img(src='/images/game_3match.png', alt='3파전')
          //-   button#dropdownGroundList.btn.btn-link.p-0(href='#', role='button',data-toggle='dropdown', aria-haspopup='true', aria-expanded='false')
          //-     img(src='/images/game_ground.png', alt='구장')
          //-     .dropdown-menu.p-0(aria-labelledby='dropdownGroundList')
          //-       ul.list-group.list-group-flush
          //-         li.list-group-item.list-group-item-action(data-id='') 전체
          //-         each ground in ground_list
          //-           a(href='#')
          //-             li.list-group-item.list-group-item-action(data-id=ground._id) #{ground.groundName}
          .calendar-slider.w-100.mx-auto(style='max-width:750px;')
            - var d = 0;
            while d < size
              //.col
              .pr-2
                - var date = new Date();
                - date.setDate(today.getDate() + d++)
                button.btn.rounded.btn-date.font-italic.w-100.btn-link(type='button', onclick='fnSelectDate(this)',
                class=d===1?'active':'',
                class=date.getDay()===0?'text-danger':date.getDay()===6?'text-primary':'text-secondary',
                class=d===1?'btn-primary':'', data-date=date.toISOString().slice(0,10))
                  .h6.m-0 #{date.getDate()}
                  .small #{day[date.getDay()]}
          //- .position-relative.mx-auto(style='line-height:50px;')
          //-   - var today = new Date();
          //-   - var m = today.getMonth() + 1;
          //-   - var d = today.getDate();
          //-   - var y = today.getFullYear();
          //-   img(src='/images/calendar_btn.png', alt='전체달력', data-date=y + '.' + m)
          //-   input#datepicker.ml-3.position-absolute(type='text', value=m + '-' + d + '-' + y)
        //  경기 필터링 부분
        .mobile-menu-wrap.mx-auto
          .row
            .col
              .d-flex.justify-content-start
                .form-group
                  p.category 2파
                  input.bootstrap-switch(type="checkbox" data-toggle="switch" value="2" checked="" data-on-color="primary" data-off-color="primary" data-on-label="on" data-off-label="off")
                .form-group.ml-2
                  p.category 3파
                  input.bootstrap-switch(type="checkbox" data-toggle="switch" value="3" checked="" data-off-color="success" data-on-color="success" data-on-label="on" data-off-label="off")
                .form-group.ml-2
                  button.btn.btn-primary.text-primary.btn-neutral.dropdown-toggle(type='button', data-toggle='modal', data-target='#filterModalRegion') 지역
                .form-group.ml-2
                  button.btn.btn-primary.text-primary.btn-neutral.dropdown-toggle(type='button', data-toggle='modal', data-target='#filterModalGround') 구장

  //  경기 리스트
  include include/match-list
  //  경기 필터링 모달창
  include modals/filter
block append_js
  script(src='/public_js/main.js', type='text/javascript')
  script.
    console.log('query : ', !{JSON.stringify(query)});
    console.log('reigon : ' ,!{JSON.stringify(region)})
    console.log('region group ' ,!{JSON.stringify(region_group)})
    