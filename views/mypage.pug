extends layout
block content
  #mypage-wrap.container.bg-white
    .row
      .col-md-6
        .card
          .card-header
            label.title ID
            p #{user.user_id}
          .card-body
            label.title 보유 포인트
            .point-wrap.d-flex.justify-content-start
              p #{new Intl.NumberFormat('ko').format(user.point) || 0}
              button.btn.btn-primary(data-toggle='modal', data-target='#modalChargePoint') 충전하기
        .card
          .card-header
            .d-flex.justify-content-between
              label.title 내 클럽
              a.text-primary(href='/clubs/list') 전체보기
          .card-body
            if(myClub)
              ul.list-group.list-group-flush.text-center
                li.list-group-item.list-group-item-primary
                  .row
                    .col-2 마크
                    .col-7 클럽명
                    .col-3 회원수
                li.list-group-item.list-group-item-action
                  a(href='/clubs/' + myClub._id)
                    .row
                      .col-2
                        if(myClub.club_mark === "")
                          img(src='/images/pz_logo.png', width='100%')
                        else
                          img(src=myClub.club_mark, width='100%')
                      .col-7 !{myClub.club_name}
                      .col-3 !{myClub.club_member.length} 명
            else
              .row
                .col-8
                  span 아직 가입한 클럽이 없습니다.
                .col-4
                  button.btn.btn-link.text-primary(onclick='fnJoinClub()') 가입
                  button.btn.btn-link.text-success(onclick='fnCreateClub()') 생성
      .col-md-6
        .card
          .card-header
            .d-flex.justify-content-between
              label.title 내 경기 일정
              a.text-info(href='#users/match/list') 더 보기
          .card-body
            ul.list-group.list-group-flush
              li.list-group-item.list-group-item-primary.text-center
                .row
                  .col-3 날짜
                  .col-2 시간
                  .col 경기장
              if(match_list.length > 0)
                each match in match_list
                  a(href='/users/match/' + match._id)
                    li.list-group-item.list-group-item-action.text-center
                      .row
                        .col-3 #{match.match_date.slice(5)}
                        .col-2 #{match.match_time}
                        .col #{match.ground_info.groundName}
              else
                li.list-group-item 일정이 없습니다.
  include modals/chargePoint
block append_js
  script(src='/public_js/mypage.js')
  script.
    console.log('user_info : ', !{JSON.stringify(user_info)});
    console.log('my club : ', !{JSON.stringify(myClub)});
